#
# Copyright (c) 2018 zhtlab
#
# Permission is hereby granted, free of charge, to any person obtaining
# a copy of this software and associated documentation files
# (the "Software"), to deal in the Software without restriction, including
# without limitation the rights to use, copy, modify, merge, publish,
# distribute, sublicense, and/or sell copies of the Software, and to permit
# persons to whom the Software is furnished to do so, subject to
# the following conditions:
#
# The above copyright notice and this permission notice shall be included
# in all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
# DEALINGS IN THE SOFTWARE.
#

#
# clock
#
CONFIG_CLOCK_HSE                = 24000000      # unit: Hz
//CONFIG_CLOCK_FREQ_EXT_CRYSTAL   = 32000000      # unit: Hz

CONFIG_CLOCK_FREQ_16MHZ         = 16000000     # unit: Hz
CONFIG_CLOCK_FREQ_32MHZ         = 32000000     # unit: Hz
CONFIG_CLOCK_FREQ_DEFAULT       = CONFIG_CLOCK_FREQ_16MHZ
CONFIG_CLOCK_FREQ_SYSCLK_BOOT1  = CONFIG_CLOCK_FREQ_DEFAULT
CONFIG_CLOCK_FREQ_SYSCLK_BOOT2  = CONFIG_CLOCK_FREQ_DEFAULT
CONFIG_CLOCK_FREQ_CPU           = 200000000     # unit: Hz
CONFIG_CLOCK_FREQ_CPU180        = 180000000     # unit: Hz
CONFIG_CLOCK_FREQ_PERI          = 100000000     # unit: Hz
CONFIG_CLOCK_FREQ_SUB           = 0


CONFIG_INTERRUPT                                =
CONFIG_INTERRUPT_TABLE_ON_RAM                   = 0
CONFIG_INTERRUPT_TABLE_LENGTH                   = 0x100


#
# cache
#
CONFIG_CACHE_INST_ENABLE                = 1
CONFIG_CACHE_DATA_ENABLE                = 1


###############################
# system information
CONFIG_GPIO_HEADER_FILE                 = "gpio.bootStm32f73x.h"


###############################
# system information

CONFIG_CHIP_ID                          = 0x452

CONFIG_POWER_SW_PORTNUM                 = 2
CONFIG_POWER_SW_BITNUM                  = 2
CONFIG_POWER_SW_PULLUP_EN               = 1
CONFIG_UPDATE_LED_PORTNUM               = 2
CONFIG_UPDATE_LED_BITNUM                = 1
CONFIG_POWER_LED_PORTNUM                = 2
CONFIG_POWER_LED_BITNUM                 = 0

### memory info
CONFIG_MEMORY_ROM_BASE			= 0x08000000
CONFIG_MEMORY_ROM_SIZE			= 0x00010000
CONFIG_MEMORY_ROM_ERASE_PAGESIZE	= 0x0080
CONFIG_MEMORY_RAM_BASE			= 0x20000000
CONFIG_MEMORY_RAM_SIZE			= 0x00010000

CONFIG_MEMORY_ROM_EEPROM_BASE           = 0x08080000
CONFIG_MEMORY_ROM_EEPROM_SIZE           = 0x0800
CONFIG_MEMORY_ROM_EEPROM2_BASE          = 0x08080800
CONFIG_MEMORY_ROM_EEPROM2_SIZE          = 0x1000


### binary map
CONFIG_MEMORY_ROM_BOOT1_START		= ((CONFIG_MEMORY_ROM_BASE)+0x00000)
CONFIG_MEMORY_ROM_BOOT1_END		= ((CONFIG_MEMORY_ROM_BASE)+0x007ff)
CONFIG_MEMORY_ROM_BOOT1_SIZE		= ((CONFIG_MEMORY_ROM_BOOT1_END)-(MEMORY_ROM_BOOT1_START)+1)

CONFIG_MEMORY_ROM_BOOT2_START		= ((CONFIG_MEMORY_ROM_BASE)+0x00800)
CONFIG_MEMORY_ROM_BOOT2_END		= ((CONFIG_MEMORY_ROM_BASE)+0x027ff)
CONFIG_MEMORY_ROM_BOOT2_SIZE		= ((CONFIG_MEMORY_ROM_BOOT2_END)-(CONFIG_MEMORY_ROM_BOOT2_START)+1)
CONFIG_MEMORY_ROM_BOOT2_OFFSET		= -0x17fff800	# ((CONFIG_MEMORY_ROM_BOOT2_START)-(CONFIG_MEMORY_RAM_BOOT2_START))

CONFIG_MEMORY_ROM_BOOTLOADER_START	=  CONFIG_MEMORY_ROM_BOOT1_START
CONFIG_MEMORY_ROM_BOOTLOADER_END	=  CONFIG_MEMORY_ROM_BOOT2_END
CONFIG_MEMORY_ROM_BOOTLOADER_SIZE	= ((CONFIG_MEMORY_ROM_BOOTLOADER_END)-(CONFIG_MEMORY_ROM_BOOTLOADER_START)+1)

CONFIG_MEMORY_ROM_FLASHREG_START	= ((CONFIG_MEMORY_ROM_BASE)+0x07800)
CONFIG_MEMORY_ROM_FLASHREG_END		= ((CONFIG_MEMORY_ROM_BASE)+0x07fff)
CONFIG_MEMORY_ROM_FLASHREG_SIZE		= ((CONFIG_MEMORY_ROM_FLASHREG_END)-(CONFIG_MEMORY_ROM_FLASHREG_START)+1)

CONFIG_MEMORY_ROM_MAINFIRM_START	= ((CONFIG_MEMORY_ROM_BASE)+0x0000)
CONFIG_MEMORY_ROM_MAINFIRM_END		= ((CONFIG_MEMORY_ROM_BASE)+0xfffff)	# depends on the chip
CONFIG_MEMORY_ROM_MAINFIRM_SIZE		= ((CONFIG_MEMORY_ROM_MAINFIRM_END)-(CONFIG_MEMORY_ROM_MAINFIRM_START)+1)

CONFIG_MEMORY_RAM_BOOT2_START		= ((CONFIG_MEMORY_RAM_BASE))
CONFIG_MEMORY_RAM_BOOT2_END		= ((CONFIG_MEMORY_RAM_BASE)+(CONFIG_MEMORY_ROM_BOOT2_SIZE)-1)
CONFIG_MEMORY_RAM_BOOT2_SIZE		=  (CONFIG_MEMORY_ROM_BOOT2_SIZE)

CONFIG_MEMORY_MAINFIRM_START		= 0x08000000
CONFIG_MEMORY_MAINFIRM_END		= 0x0800ffff	# depends on the chip
CONFIG_MEMORY_MAINFIRM_SIZE		= ((CONFIG_MEMORY_MAINFIRM_END)-(CONFIG_MEMORY_MAINFIRM_START)+1)

CONFIG_MCO_ENABLE                       = 0

CONFIG_SYSTEM_SWD_ENABLE                = 0

CONFIG_SYSTEM_MALLOC_HEAP               = 0
CONFIG_SYSTEM_MALLOC_RTOS               = 1

CONFIG_INTR_ENABLE                      = __enable_irq
CONFIG_INTR_DISABLE                     = __disable_irq


###############################
# bootloader
CONFIG_BOOTLOADER_CMD_VERSION           = 0x31
CONFIG_BOOTLOADER_PERI_I2C_ADDR         = 0x18
CONFIG_BOOTLOADER_LED_INDICATE_EN       = 1
CONFIG_BOOTLOADER_ALIVE_TIME            = (300) # in seconds
CONFIG_BOOTLOADER_SW_REBBOT_TIME        = 5
CONFIG_BOOTLOADER_CHECK_SW              = 1

CONFIG_BOOTLOADER_VERSION_PTR           = ((MEMORY_BOOT1_START)+0x20)
CONFIG_BOOTLOADER_TOP                   = ((CONFIG_MEMORY_ROM_BOOTLOADER_START))
CONFIG_BOOTLOADER_INFO_TOP              = ((CONFIG_BOOTLOADER_TOP)+0x410)
CONFIG_BOOTLOADER_INFO_BOTTOM           = ((CONFIG_BOOTLOADER_TOP)+0x41f)
CONFIG_BOOTLOADER_INFO_CRC_POS          = ((CONFIG_BOOTLOADER_INFO_TOP)+0x0)
CONFIG_BOOTLOADER_INFO_SIZE_POS         = ((CONFIG_BOOTLOADER_INFO_TOP)+0x4)
CONFIG_BOOTLOADER_INFO_ENTRY_POS        = ((CONFIG_BOOTLOADER_INFO_TOP)+0x8)
CONFIG_BOOTLOADER_INFO_VERSION_POS      = ((CONFIG_BOOTLOADER_INFO_TOP)+0xc)
CONFIG_BOOTLOADER_TEXT_TOP              = ((CONFIG_BOOTLOADER_TOP)+0x420)

# crc, bootloader version number
CONFIG_BOOTLOADER_CMD_EXTENTIONS_ENABLE = 1


###############################
# firmware
CONFIG_FIRMWARE_TOP			= ((CONFIG_MEMORY_MAINFIRM_START))
CONFIG_FIRMWARE_VECTOR_TOP		= ((CONFIG_FIRMWARE_TOP)+0x000)
CONFIG_FIRMWARE_VECTOR_BOTTOM		= ((CONFIG_FIRMWARE_TOP)+0x0ff)
CONFIG_FIRMWARE_SYSTEMINFO_TOP		= ((CONFIG_FIRMWARE_TOP)+0x400)
CONFIG_FIRMWARE_SYSTEMINFO_BOTTOM	= ((CONFIG_FIRMWARE_TOP)+0x40f)
CONFIG_FIRMWARE_INFO_TOP		= ((CONFIG_FIRMWARE_TOP)+0x410)
CONFIG_FIRMWARE_INFO_BOTTOM		= ((CONFIG_FIRMWARE_TOP)+0x41f)
CONFIG_FIRMWARE_INFO_CRC_POS		= ((CONFIG_FIRMWARE_INFO_TOP)+0x0)
CONFIG_FIRMWARE_INFO_SIZE_POS		= ((CONFIG_FIRMWARE_INFO_TOP)+0x4)
CONFIG_FIRMWARE_INFO_ENTRY_POS		= ((CONFIG_FIRMWARE_INFO_TOP)+0x8)
CONFIG_FIRMWARE_INFO_VERSION_POS	= ((CONFIG_FIRMWARE_INFO_TOP)+0xc)
CONFIG_FIRMWARE_TEXT_TOP		= ((CONFIG_FIRMWARE_TOP)+0x420)

CONFIG_FIRMWARE_INFO_TOP_MK		= 0x08000410

###############################
### firmupdate, bootloader
CONFIG_FIRMUPDATE_POWERSW_TIMEOUT       = (1000)
CONFIG_FIRMUPDATE_POWERLED_BLINK_SLOW   = (0x400)
CONFIG_FIRMUPDATE_POWERLED_BLINK_FAST   = (0x80)
CONFIG_FIRMUPDATE_POWERLED_BLINK_TIME   = (800)         # in msec


CONFIG_USB_MAXNUM_DEVICES                        = 2
CONFIG_USB_MAXNUM_CONFIGURATIONS                 = 1
CONFIG_USB_MAXNUM_INTERFACES                     = 9
CONFIG_USB_MAXNUM_REGCLASSES                     = 4


CONFIG_SYSTEM_USART_PORT                        = USART1_NUM
CONFIG_SYSTEM_USART_BAUD                        = 921600


###############################
### rtos
CONFIG_RTOS_DEBUG_SHOW_STACK                    = 0

###############################
### I2C addr list
CONFIG_I2C_ADDR_SI5351                          = SI5351_I2C_ADDR0
CONFIG_I2C_ADDR_LTC2609                         = 0x62
CONFIG_I2C_ADDR_SN65DP141                       = 0x03
CONFIG_I2C_ADDR_STUSB4500                       = 0x28
CONFIG_I2C_ADDR_FUSB308B                        = 0x51
CONFIG_I2C_ADDR_TMP102A_0                       = 0x48
CONFIG_I2C_ADDR_TMP102A_1                       = 0x49
CONFIG_I2C_ADDR_TMP102A_2                       = 0x4a
CONFIG_I2C_ADDR_TMP102A_3                       = 0x4b

###############################
### fatfs
CONFIG_FATFS_PHYMEDIA_COUNT_MAX                 = 4
CONFIG_FATFS_EXFAT_ENABLE                       = 1


###############################
### fpga
CONFIG_FPGA_SPI_DEVNUM                          = 0
CONFIG_FPGA_SPI_STATUS_RETRY                    = 5000

CONFIG_FPGA_8BIT_DMA_MODULE                     = DMA2_NUM
CONFIG_FPGA_8BIT_DMA_CH                         = 1

CONFIG_FPGA_DATABUF_SIZE                        = 32768

###############################
# sdmmc
CONFIG_SDMMC_MIDDLE_USE_RTOS                    = 0
CONFIG_SDMMC_SLEEP                              = RtosTaskSleep


###############################
### DPCAM AXI
# 1st corssbar
CONFIG_FPGAAXI_INTR_BASE                        = 0x41200000    # axiM00 INTR
CONFIG_FPGAAXI_TIMER0_BASE                      = 0x41c00000    # axiM01 TIMER0
CONFIG_FPGAAXI_UART0_BASE                       = 0x40600000    # axiM02 UART
CONFIG_FPGAAXI_IIC0_BASE                        = 0x40810000    # axiM03 IIC
CONFIG_FPGAAXI_SPI0_BASE                        = 0x40c00000    # axiM04 SPI
CONFIG_FPGAAXI_TIMER1_BASE                      = 0x41c10000    # axiM05 TIMER1
CONFIG_FPGAAXI_AXIGPIO0_BASE                    = 0x40000000    # axiM06 AXIGPIO
CONFIG_FPGAAXI_AXIGPIO00_BASE                   = ((CONFIG_FPGAAXI_AXIGPIO0_BASE)+0x00)
CONFIG_FPGAAXI_AXIGPIO01_BASE                   = ((CONFIG_FPGAAXI_AXIGPIO0_BASE)+0x40)
CONFIG_FPGAAXI_AXIGPIO02_BASE                   = ((CONFIG_FPGAAXI_AXIGPIO0_BASE)+0x80)
CONFIG_FPGAAXI_AXIGPIO03_BASE                   = ((CONFIG_FPGAAXI_AXIGPIO0_BASE)+0xc0)

# 2nd corssbar
CONFIG_FPGAAXI_VIDEO_BASE                       = 0x50000000    # axiM05
CONFIG_FPGAAXI_GPIO_BASE                        = 0x44a80000    # axiM08
CONFIG_FPGAAXI_DPRX_BASE                        = 0x44a00000    # axiM09
CONFIG_FPGAAXI_DPTX_BASE                        = 0x44a40000    # axiM0a
CONFIG_FPGAAXI_DPPHY_BASE                       = 0x44a20000    # axiM0b
CONFIG_FPGAAXI_DPCRC_BASE                       = 0x44a30000    # axiM0c
CONFIG_FPGAAXI_DPEDID_BASE                      = 0x44a10000    # axiM0d

### axi bus for video exclude DP  (axiM05 - Mxx)
CONFIG_FPGAAXI_OLEDL_BASE                       = ((CONFIG_FPGAAXI_VIDEO_BASE)+0x00000)    # axiM05 - M00
CONFIG_FPGAAXI_OLEDR_BASE                       = ((CONFIG_FPGAAXI_VIDEO_BASE)+0x10000)    # axiM05 - M01
CONFIG_FPGAAXI_ATV_BASE                         = ((CONFIG_FPGAAXI_VIDEO_BASE)+0x20000)    # axiM05 - M02
CONFIG_FPGAAXI_ATV_TCFIFOINL_BASE                 = ((CONFIG_FPGAAXI_ATV_BASE)+0x0000)
CONFIG_FPGAAXI_ATV_TCFIFOINR_BASE                 = ((CONFIG_FPGAAXI_ATV_BASE)+0x1000)
CONFIG_FPGAAXI_ATV_TCFIFOOUT_BASE                 = ((CONFIG_FPGAAXI_ATV_BASE)+0x2000)
CONFIG_FPGAAXI_ATV_TCDECAXIS_BASE                 = ((CONFIG_FPGAAXI_ATV_BASE)+0x3000)
CONFIG_FPGAAXI_ATV_TCVIDOUT_BASE                  = ((CONFIG_FPGAAXI_ATV_BASE)+0x4000)
CONFIG_FPGAAXI_ATV_GPIO_BASE                      = ((CONFIG_FPGAAXI_ATV_BASE)+0x8000)
CONFIG_FPGAAXI_ATV_TPG192_BASE                    = ((CONFIG_FPGAAXI_ATV_BASE)+0x9000)
CONFIG_FPGAAXI_ATV_AXISSW_BASE                    = ((CONFIG_FPGAAXI_ATV_BASE)+0xa000)
CONFIG_FPGAAXI_ATV_GPIO2_BASE                     = ((CONFIG_FPGAAXI_ATV_BASE)+0xb000)
CONFIG_FPGAAXI_TPG96_VTC_BASE                   = ((CONFIG_FPGAAXI_VIDEO_BASE)+0xe0000)    # axiM05 - M14
CONFIG_FPGAAXI_TPG96_BASE                       = ((CONFIG_FPGAAXI_VIDEO_BASE)+0xe1000)    # axiM05 - M14


###############################
### image resolution
###
CONFIG_OLED118_SIZE_W                           = 4000
CONFIG_OLED118_SIZE_H                           = 2475
CONFIG_OLED118_ACT_W                            = 3216
CONFIG_OLED118_ACT_H                            = 2400
CONFIG_8K_SIZE_W                                = 9000
CONFIG_8K_SIZE_H                                = 4400
CONFIG_8K_ACT_W                                 = 7680
CONFIG_8K_ACT_H                                 = 4320


###############################
# cam
CONFIG_IMX388_I2C_ADDR                          = 0x1a
CONFIG_IMX418_I2C_ADDR                          = 0x1a

###############################
# thermal
CONFIG_THERMAL_SHUTDOWN_THRESH                  = (75)  # in degree
CONFIG_THERMAL_SHUTDOWN_CHECKTIME               = (10)  # in sec


###############################
# CC
CONFIG_CC_CHECKINHIBIT_TIME                     = (4*(SYSTEM_COUNTER_1S000))
